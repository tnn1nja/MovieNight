PRAGMA foreign_keys=ON;

CREATE TABLE Films (
	FilmID INTEGER PRIMARY KEY AUTOINCREMENT,
	Title VARCHAR(128),
	Synopsis TEXT,
	Year INTEGER,
	Cover VARCHAR(256),
	Rating INTEGER,
	Genre INTEGER
);

CREATE TABLE UserData (
	UserDataID INTEGER PRIMARY KEY AUTOINCREMENT,
	FilmID INTEGER,
	Saved BOOLEAN,
	Liked BOOLEAN,
	Seen BOOLEAN,
	FOREIGN KEY (FilmID) REFERENCES Films(FilmID)
);

CREATE TABLE Providers (
	ProviderID INTEGER PRIMARY KEY AUTOINCREMENT,
	Name VARCHAR(64),
	URL VARCHAR(256),
	Logo VARCHAR (256)
);

CREATE TABLE People (
	PersonID INTEGER PRIMARY KEY AUTOINCREMENT,
	Name VARCHAR(128)
);

CREATE TABLE ProvidersLink (
	ProviderLinkID INTEGER PRIMARY KEY AUTOINCREMENT,
	FilmID INTEGER,
	ProviderID INTEGER,
	FOREIGN KEY (FilmID) REFERENCES Films(FilmID),
	FOREIGN KEY (ProviderID) REFERENCES Providers(ProviderID)
);

CREATE TABLE PRFLink (
	PRFLinkID INTEGER PRIMARY KEY AUTOINCREMENT,
	FilmID INTEGER,
	PersonID INTEGER,
	Role INTEGER,
	FOREIGN KEY (FilmID) REFERENCES Films(FilmID),
	FOREIGN KEY (PersonID) REFERENCES People(PersonID)
);
